# 管理画面システム構築プロジェクト - 進捗管理表

## フェーズ1: 準備とデータベース設計 (約1〜2日)

| # | タスク内容 | ステータス | 備考 |
| :-- | :--- | :--- | :--- |
| 1.1 | 開発用ブランチ `feature/admin-dashboard` の作成 | `[x]` | `git checkout -b feature/admin-dashboard` |
| 1.2 | Cloudflare D1 データベースのセットアップ | `[x]` | `wrangler.toml` に設定を追加し、DBを作成 |
| 1.3 | データベーススキーマの設計とマイグレーションファイルの作成 | `[x]` | `articles`, `tags`, `categories`, `article_tags` テーブルを定義 |

## フェーズ2: データ移行 (約1日)

| # | タスク内容 | ステータス | 備考 |
| :-- | :--- | :--- | :--- |
| 2.1 | 既存Markdown記事をDBに移行するスクリプトの作成 | `[x]` | `fs`でファイルを読み、D1に挿入するNode.jsスクリプト |
| 2.2 | 移行スクリプトの実行と、DB上でのデータ検証 | `[x]` | 全ての記事が正しく移行されたか件数や内容を確認 |

## フェーズ3: バックエンド (APIルート) の構築 (約3〜5日)

| # | タスク内容 | ステータス | 備考 |
| :-- | :--- | :--- | :--- |
| 3.1 | 記事のCRUD (作成, 読取, 更新, 削除) APIの作成 | `[x]` | `/api/articles` および `/api/articles/[id]` |
| 3.2 | タグ・カテゴリ管理APIの作成 | `[x]` | `/api/tags`, `/api/categories` |
| 3.3 | APIの認証・認可ミドルウェアの実装 | `[x]` | 環境変数 `ADMIN_SECRET` によるBearerトークン認証 |

## フェーズ4: 管理画面フロントエンドの構築 (約5〜7日)

| # | タスク内容 | ステータス | 備考 |
| :-- | :--- | :--- | :--- |
| 4.1 | 管理画面の基本レイアウト作成 (`/admin`) | `[/]` | Shadcn/UI を導入済み |
| 4.2 | ログイン機能の実装 | `[ ]` | |
| 4.3 | 記事一覧ページ（ダッシュボード）の作成 | `[ ]` | 記事テーブル、新規作成・編集・削除ボタンを設置 |
| 4.4 | 記事作成・編集ページの作成 | `[ ]` | `react-markdown` や `milkdown` などのエディタを導入 |
| 4.5 | タグ・カテゴリ管理ページの作成 | `[ ]` | |

## フェーズ5: 公開側フロントエンドの改修 (約2〜3日)

| # | タスク内容 | ステータス | 備考 |
| :-- | :--- | :--- | :--- |
| 5.1 | 記事一覧・詳細ページのデータ取得処理をDB参照に変更 | `[x]` | `lib/articles-server.ts` をDBアクセスロジックに置き換え |
| 5.2 | タグ・カテゴリ関連ページのデータ取得処理をDB参照に変更 | `[x]` | カテゴリページ・タグページを改修済み |
| 5.3 | ホームページなど、記事情報を表示する全コンポーネントを改修 | `[x]` | ホームページを改修済み |

## フェーズ6: テストとデプロイ (約2日)

| # | タスク内容 | ステータス | 備考 |
| :-- | :--- | :--- | :--- |
| 6.1 | 動作確認 | `[ ]` | 管理画面でのCRUD操作、公開ページの表示をE2Eで確認 |
| 6.2 | `feature/admin-dashboard` ブランチを `main` へマージ | `[ ]` | |
| 6.3 | 本番環境へのデプロイと最終確認 | `[ ]` | |
| 6.4 | （任意）古いMarkdownファイルの削除 | `[ ]` | 新システムが安定稼働したのを確認後 |